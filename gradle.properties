# -Xmx1g: caps Gradle daemon heap to prevent unbounded memory growth during builds
# -Dfile.encoding=UTF-8: overrides the JVM's default file encoding, which is otherwise determined
#                        by the OS locale and can vary across developer machines and CI environments
#                        (e.g. UTF-8 on macOS, but potentially ISO-8859-1 on some Linux systems)
# -Xshare:off: disables Class Data Sharing (CDS); Jacoco's agent appends to the bootstrap classpath,
#              which prevents CDS from working and produces a noisy warning. CDS is a startup
#              optimization relevant for long-lived processes (e.g. Lambda), not build tooling.
org.gradle.jvmargs=-Xmx1g -Dfile.encoding=UTF-8 -Xshare:off

# Caches the build configuration so it does not need to be re-evaluated on every build
org.gradle.configuration-cache=true

# Nix pins the JDK to a store path containing a hash (e.g. /nix/store/abc123-jdk25.../). When the
# flake updates, that hash changes, leaving the daemon with a stale JVM path. Disabling the daemon
# avoids this incompatibility; each build gets a clean, correctly-pathed JVM from the current Nix shell.
org.gradle.daemon=false
